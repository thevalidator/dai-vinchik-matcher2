| Код | Дополнительные поля                                                                                                                       | Описание события                                                                                                                                                                                                                                             |
|-----|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1   | $message_id(integer)<br/>$flags(integer)<br/>extra_fields*                                                                                | Замена флагов сообщения (FLAGS:=$flags).                                                                                                                                                                                                                     |
| 2   | $message_id(integer)<br/>$mask(integer)extra_fields*                                                                                      | Установка флагов сообщения (FLAGS=$mask).                                                                                                                                                                                                                    |
| 3   | $message_id(integer)<br/> $mask(integer)<br/>extra_fields*                                                                                | Сброс флагов сообщения (FLAGS&=~$mask).                                                                                                                                                                                                                      |
| 4   | $message_id(integer)<br/>$flags(integer)<br/>$minor_id(integer)<br/>extra_fields*                                                         | Добавление нового сообщения.                                                                                                                                                                                                                                 |
| 5   | $message_id(integer)<br/>$mask(integer)<br/>$peer_id(integer)<br/>$timestamp(integer)<br/>$new_text(string)<br/>$attachments(array)<br/>0 | Редактирование сообщения.                                                                                                                                                                                                                                    |
| 6   | $peer_id(integer)<br/>$local_id(integer)                                                                                                  | Прочтение всех входящих сообщений в $peer_id, пришедших до сообщения с $local_id.                                                                                                                                                                            |
| 7   | $peer_id(integer)<br/>$local_id(integer)                                                                                                  | Прочтение всех исходящих сообщений в $peer_id, пришедших до сообщения с $local_id.                                                                                                                                                                           |
| 8   | -$user_id(integer)<br/>$extra(integer)<br/>$timestamp(integer)                                                                            | Друг $user_id стал онлайн. $extra не равен 0, если в mode был передан флаг 64. В младшем байте (остаток от деления на 256) числа extra лежит идентификатор платформы (см. Платформы). $timestamp — время последнего действия пользователя $user_id на сайте. |
| 9   | -$user_id(integer)<br/>$flags(integer)<br/>$timestamp(integer)                                                                            | Друг $user_id стал оффлайн ($flags равен 0, если пользователь покинул сайт и 1, если оффлайн по таймауту ) . $timestamp — время последнего действия пользователя $user_id на сайте.                                                                          |
| 10  | $peer_id(integer)<br/>$mask(integer)                                                                                                      | Сброс флагов диалога $peer_id. Соответствует операции (PEER_FLAGS &= ~$flags). Только для диалогов сообществ.                                                                                                                                                |
| 11  | $peer_id(integer)<br/>$flags(integer)                                                                                                     | Замена флагов диалога $peer_id. Соответствует операции (PEER_FLAGS:= $flags). Только для диалогов сообществ.                                                                                                                                                 |
| 12  | $peer_id(integer)<br/>$mask(integer)                                                                                                      | Установка флагов диалога $peer_id. Соответствует операции (PEER_FLAGS= $flags). Только для диалогов сообществ.                                                                                                                                               |
| 13  | $peer_id(integer)<br/>$local_id(integer)                                                                                                  | Удаление всех сообщений в диалоге $peer_id с идентификаторами вплоть до $local_id.                                                                                                                                                                           |
| 14  | $peer_id(integer)<br/>$local_id(integer)                                                                                                  | Восстановление недавно удаленных сообщений в диалоге $peer_id с идентификаторами вплоть до $local_id.                                                                                                                                                        |
| 20  | $peer_id(integer)<br/>$major_id(integer)                                                                                                  | Изменился $major_id в диалоге $peer_id.                                                                                                                                                                                                                      |
| 21  | $peer_id(integer)<br/>$minor_id(integer)                                                                                                  | Изменился $minor_id в диалоге $peer_id.                                                                                                                                                                                                                      |
| 51  | $chat_id(integer)<br/>$self(integer)                                                                                                      | Один из параметров (состав, тема) беседы $chat_id были изменены. $self — 1 или 0 (вызваны ли изменения самим пользователем).                                                                                                                                 |
| 52  | $type_id(integer)<br/>$peer_id(integer)<br/>$info(integer)                                                                                | Изменение информации чата $peer_id с типом $type_id, $info — дополнительная информация об изменениях, зависит от типа события. См. Дополнительные поля чатов                                                                                                 |
| 61  | $user_id(integer)<br/>$flags(integer)                                                                                                     | Пользователь $user_id набирает текст в диалоге. Событие приходит раз в ~5 секунд при наборе текста. $flags = 1.                                                                                                                                              |
| 62  | $user_id  (integer)<br/>$chat_id(integer)                                                                                                 | Пользователь $user_id набирает текст в беседе $chat_id.                                                                                                                                                                                                      |
| 63  | $user_ids(integer)<br/>$peer_id(integer)<br/>$total_count(integer)$ts(integer)                                                            | Пользователи $user_ids набирают текст в беседе $peer_id. Максимально передается пять участников беседы, общее количество печатающих указывается в $total_count. $ts — время генерации этого события.                                                         |
| 64  | $user_ids(integer)<br/>$peer_id(integer)<br/>$total_count(integer)<br/>$ts(integer)                                                       | Пользователи $user_ids записывают аудиосообщение в беседе $peer_id.                                                                                                                                                                                          |
| 70  | $user_id(integer)<br/>$call_id(integer)                                                                                                   | Пользователь $user_id совершил звонок с идентификатором $call_id.                                                                                                                                                                                            |
| 80  | $count(integer)<br/>0                                                                                                                     | Счетчик в левом меню стал равен $count.                                                                                                                                                                                                                      |
| 114 | $peer_id(integer)<br/>$sound(integer)<br/>$disabled_until(integer)                                                                        | Изменились настройки оповещений. $peer_id — идентификатор чата/собеседника, $sound — 1/0, включены/выключены звуковые оповещения, $disabled_until — выключение оповещений на необходимый срок (-1: навсегда, 0)                                              |


### Дополнительные поля сообщений
| Поле           | Тип     | Описание                                                                                                                                                                                     |
|----------------|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| $peer_id       | integer | Идентификатор назначения. Для пользователя: id пользователя. Для групповой беседы: 2000000000 + id беседы. Для сообщества: -id сообщества либо id сообщества + 1000000000 (для version = 0). |
| $timestamp     | integer | Время отправки сообщения в Unix time                                                                                                                                                         |
| $text          | string  | Текст сообщения                                                                                                                                                                              |
| [$attachments] | array   | Вложения (если mode = 2)                                                                                                                                                                     |
| [$random_id]   | integer | random_id, если параметр был передан в messages.send. Может содержать 0, если значение не задано.                                                                                            |

Если сообщение по каким-то причинам недоступно, extra_fields могут не возвращаться либо может возвращаться только $peer_id. В событиях 1, 2 и 3 в большинстве случаев возвращается только $peer_id. В событии 4 в большинстве случаев возвращается полный набор полей. Если сообщение было восстановлено, в событиях 1 и 3 (снятие флага SPAM или DELETED) в большинстве случаев вернётся полный набор полей.

### Дополнительные поля чатов
| Поле     | Тип     | Описание                                                                                                                                                                                                                                                                                                                                                              |
|----------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| $type_id | integer | Идентификатор типа изменения в чате.<br/>•1 — изменилось название беседы.<br/>•2 — сменилась обложка беседы.<br/>•3 — назначен новый администратор.<br/>•4 — закреплено сообщение.<br/>•5 — пользователь присоединился к беседе.<br/>•6 — пользователь покинул беседу.<br/>•7 — пользователя исключили из беседы.<br/>•8 — с пользователя сняты права администратора. |
| $info    | integer | Дополнительная информация об изменениях в чате. Значение зависит от type_id.<br/>•type_id = 1, 2 — $info = "0"<br/>•type_id = 3 — $info = "admin_id"<br/>•type_id = 5 — $info = "conversation_message_id"<br/>•type_id = 6, 7, 8 — $info = "user_id"                                                                                                                  |